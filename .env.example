# ----------------------------------------------------
# Crypto Price Stream Server - 環境變數配置範例
# ----------------------------------------------------
#
# 使用說明:
# 1. 將此文件複製並重命名為 .env
# 2. 根據您的環境填寫以下變數。
# 3. 確保 .env 文件位於專案根目錄。
# 4. 不要將包含敏感資訊的 .env 文件提交到版本控制系統 (如 Git)。

# --- InfluxDB v3 配置 (必需) ---
# InfluxDB 服務器的主機位址，包含協議和端口。
# 例如: http://localhost:8086 或 https://us-east-1-1.aws.cloud2.influxdata.com
INFLUXDB_HOST=http://localhost:8086

# 用於 InfluxDB 認證的 API 令牌。
# 這是敏感資訊，請妥善保管。
# 在 InfluxDB UI 的 "API Tokens" 部分生成。
INFLUXDB_TOKEN=your_influxdb_api_token

# 要連接的 InfluxDB 資料庫/Bucket 名稱。
INFLUXDB_DATABASE=crypto_data

# --- Binance 配置 (可選，有預設值) ---
# 預設訂閱的 K 線時間間隔。
# 有效值: 1m, 5m, 15m, 30m, 1h, 2h, 4h, 6h, 8h, 12h, 1d, 3d, 1w, 1M
# 預設值: 1m
BINANCE_BASE_INTERVAL=1m
AGGREGATION_INTERVALS = 5m,15m,30m,1h,4h,12h,1d,1w,1M,1y

# --- API 服務器配置 (可選，有預設值) ---
# FastAPI 應用程式監聽的主機位址。
# '0.0.0.0' 表示監聽所有網絡接口，方便在 Docker 或遠程服務器上訪問。
# '127.0.0.1' 表示僅本地訪問。
# 預設值: 127.0.0.1
API_HOST=127.0.0.1

# FastAPI 應用程式監聽的端口。
# 預設值: 8000
API_PORT=8000

# --- Kafka 配置 (可選，預設禁用) ---
# 是否啟用 Kafka 消息隊列功能。
# 如果設為 'true'，價格數據將發佈到 Kafka 主題，並由 Kafka 消費者廣播到 WebSocket。
# 如果設為 'false' 或留空，將使用直接回調模式。
# 預設值: false
KAFKA_ENABLED=false

# Kafka 服務器的引導位址列表，以逗號分隔。
# 這是 Kafka 客戶端用來發現集群中其他代理的初始連接點。
# 預設值: localhost:9092
KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# 用於發布和消費價格數據的 Kafka 主題名稱。
# 預設值: crypto-prices
KAFKA_TOPIC=crypto-prices

# --- 持久化訂閱資料庫配置 (可選，有預設值) ---
# 用於存儲持久化訂閱的資料庫類型。
# 支持 'sqlite' 或 'postgresql'。
# 預設值: sqlite
DB_TYPE=sqlite

# SQLite 資料庫文件的路徑 (僅在 DB_TYPE='sqlite' 時使用)。
# 路徑是相對於專案根目錄。
# 預設值: ./sqlite.db
DB_PATH=./sqlite.db

# PostgreSQL 資料庫的連接 URL (僅在 DB_TYPE='postgresql' 時使用)。
# 格式: postgresql://user:password@host:port/dbname
# 如果使用 PostgreSQL，此項為必需。
DB_URL=